<template>
	<div class="item-cont" v-bind:class="{ selected: selectedItems.includes(Item) }">
		<itemSvg :code="Item.code.split(',')" :id="Item.id" />
		<hr class="vsep" />
		<table>
			<tbody>
				<tr>
					<td class="border-right">Difficulty</td>
					<td>Part-Whole</td>
				</tr>
				<tr>
					<td class="border-right">{{ Item.params.diff }}</td>
					<td>{{ Item.params.pwc }}</td>
				</tr>
			</tbody>
		</table>
		<hr class="vsep" />
		<div class="rule-grid">
			<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
			<svg xmlns="http://www.w3.org/2000/svg" class="rule-ico" v-bind:class="{ green: Item.rules.add > 0 }" viewBox="0 0 24 24" width="100px" height="100px">
				<path d="M0 0h24v24H0V0z" fill="none" />
				<path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" />
			</svg>
			<svg xmlns="http://www.w3.org/2000/svg" class="rule-ico" v-bind:class="{ green: Item.rules.sub > 0 }" viewBox="0 0 24 24" width="100px" height="100px">
				<path d="M0 0h24v24H0V0z" fill="none" />
				<path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" />
			</svg>
			<svg xmlns="http://www.w3.org/2000/svg" class="rule-ico" v-bind:class="{ green: Item.rules.eka > 0 }" viewBox="0 0 24 24">
				<path
					d="M9,5C10.04,5 11.06,5.24 12,5.68C12.94,5.24 13.96,5 15,5A7,7 0 0,1 22,12A7,7 0 0,1 15,19C13.96,19 12.94,18.76 12,18.32C11.06,18.76 10.04,19 9,19A7,7 0 0,1 2,12A7,7 0 0,1 9,5M9,12C9,14.22 10.21,16.16 12,17.2C13.79,16.16 15,14.22 15,12C15,9.78 13.79,7.84 12,6.8C10.21,7.84 9,9.78 9,12Z"
				/>
			</svg>
			<svg xmlns="http://www.w3.org/2000/svg" class="rule-ico" v-bind:class="{ green: Item.rules.sm > 0 }" viewBox="0 0 453.486 453.486">
				<path
					d="M304.588,77.845c-27.499-0.175-54.486,7.432-77.845,21.943c-23.359-14.511-50.346-22.118-77.845-21.943 C66.664,77.845,0,144.509,0,226.743s66.664,148.898,148.898,148.898c27.499,0.175,54.486-7.432,77.845-21.943 c23.359,14.511,50.346,22.118,77.845,21.943c82.234,0,148.898-66.664,148.898-148.898S386.822,77.845,304.588,77.845z M190.76,323.462c5.249,6.181,10.993,11.925,17.174,17.174c-18.284,9.31-38.518,14.145-59.037,14.106 c-70.692,0-128-57.308-128-128s57.308-128,128-128c20.518-0.039,40.752,4.796,59.037,14.106 C145.033,166.266,137.344,260.56,190.76,323.462z M304.689,354.743c-0.034,0-0.067,0-0.101,0 c-20.518,0.039-40.752-4.796-59.037-14.106c62.902-53.417,70.591-147.711,17.174-210.613 c-5.249-6.181-10.993-11.925-17.174-17.174c18.284-9.31,38.518-14.145,59.037-14.106C375.28,98.715,432.61,156,432.638,226.692 S375.381,354.715,304.689,354.743z"
				/>
			</svg>
			<svg xmlns="http://www.w3.org/2000/svg" class="rule-ico" v-bind:class="{ green: Item.rules.rot > 0 }" viewBox="0 0 477.867 477.867">
				<path
					d="M409.6,0c-9.426,0-17.067,7.641-17.067,17.067v62.344C304.667-5.656,164.478-3.386,79.411,84.479 c-40.09,41.409-62.455,96.818-62.344,154.454c0,9.426,7.641,17.067,17.067,17.067S51.2,248.359,51.2,238.933 c0.021-103.682,84.088-187.717,187.771-187.696c52.657,0.01,102.888,22.135,138.442,60.976l-75.605,25.207 c-8.954,2.979-13.799,12.652-10.82,21.606s12.652,13.799,21.606,10.82l102.4-34.133c6.99-2.328,11.697-8.88,11.674-16.247v-102.4 C426.667,7.641,419.026,0,409.6,0z"
				/>
				<path
					d="M443.733,221.867c-9.426,0-17.067,7.641-17.067,17.067c-0.021,103.682-84.088,187.717-187.771,187.696 c-52.657-0.01-102.888-22.135-138.442-60.976l75.605-25.207c8.954-2.979,13.799-12.652,10.82-21.606 c-2.979-8.954-12.652-13.799-21.606-10.82l-102.4,34.133c-6.99,2.328-11.697,8.88-11.674,16.247v102.4 c0,9.426,7.641,17.067,17.067,17.067s17.067-7.641,17.067-17.067v-62.345c87.866,85.067,228.056,82.798,313.122-5.068 c40.09-41.409,62.455-96.818,62.344-154.454C460.8,229.508,453.159,221.867,443.733,221.867z"
				/>
			</svg>
			<svg xmlns="http://www.w3.org/2000/svg" class="rule-ico" v-bind:class="{ green: Item.rules.voll > 0 }" viewBox="0 0 464 464">
				<path
					d="m440 0h-416c-13.253906 0-24 10.746094-24 24v416c0 13.253906 10.746094 24 24 24h416c13.253906 0 24-10.746094 24-24v-416c0-13.253906-10.746094-24-24-24zm8 24v200h-74.238281c-3.03125 0-5.800781 1.710938-7.15625 4.421875s-1.0625 5.953125.753906 8.378906c5.742187 7.894531 8.773437 17.4375 8.640625 27.199219 0 22.054688-14.351562 40-32 40s-32-17.945312-32-40c-.136719-9.761719 2.886719-19.300781 8.625-27.199219 1.816406-2.425781 2.109375-5.667969.753906-8.378906-1.355468-2.710937-4.125-4.421875-7.15625-4.421875h-74.222656v-60.617188c7.628906 3.070313 15.777344 4.636719 24 4.617188 30.878906 0 56-21.527344 56-48s-25.121094-48-56-48c-8.222656-.019531-16.371094 1.546875-24 4.617188v-60.617188h200c4.417969 0 8 3.582031 8 8zm-432 0c0-4.417969 3.582031-8 8-8h200v74.238281c0 3.03125 1.710938 5.800781 4.421875 7.15625s5.953125 1.0625 8.378906-.753906c7.898438-5.738281 17.4375-8.765625 27.199219-8.640625 22.054688 0 40 14.351562 40 32s-17.945312 32-40 32c-9.757812.132812-19.300781-2.894531-27.199219-8.625-2.425781-1.816406-5.667969-2.109375-8.378906-.753906-2.710937 1.355468-4.421875 4.125-4.421875 7.15625v74.222656h-60.617188c3.070313-7.628906 4.636719-15.777344 4.617188-24 0-30.871094-21.527344-56-48-56s-48 25.128906-48 56c-.019531 8.222656 1.546875 16.371094 4.617188 24h-60.617188zm0 416v-200h74.238281c3.03125 0 5.800781-1.710938 7.15625-4.421875s1.0625-5.953125-.753906-8.378906c-5.742187-7.894531-8.773437-17.4375-8.640625-27.199219 0-22.054688 14.351562-40 32-40s32 17.945312 32 40c.136719 9.761719-2.886719 19.300781-8.625 27.199219-1.816406 2.425781-2.109375 5.667969-.753906 8.378906 1.355468 2.710937 4.125 4.421875 7.15625 4.421875h74.222656v60.617188c-7.628906-3.070313-15.777344-4.636719-24-4.617188-30.878906 0-56 21.527344-56 48s25.121094 48 56 48c8.222656.019531 16.371094-1.546875 24-4.617188v60.617188h-200c-4.417969 0-8-3.582031-8-8zm432 0c0 4.417969-3.582031 8-8 8h-200v-74.238281c0-3.03125-1.710938-5.800781-4.421875-7.15625s-5.953125-1.0625-8.378906.753906c-7.898438 5.738281-17.4375 8.765625-27.199219 8.640625-22.054688 0-40-14.351562-40-32s17.945312-32 40-32c9.757812-.132812 19.300781 2.894531 27.199219 8.625 2.425781 1.816406 5.667969 2.109375 8.378906.753906 2.710937-1.355468 4.421875-4.125 4.421875-7.15625v-74.222656h60.617188c-3.070313 7.628906-4.636719 15.777344-4.617188 24 0 30.871094 21.527344 56 48 56s48-25.128906 48-56c.019531-8.222656-1.546875-16.371094-4.617188-24h60.617188zm0 0"
				/>
			</svg>
		</div>
		<button @click="selectItem(Item)" class="selectBtn" type="button">Select</button>
	</div>
</template>

<script>
import itemSvg from "@/components/database/item.vue";
import { mapActions, mapGetters } from "vuex";

export default {
	name: "mat-card",
	data() {
		return {
			isSelected: false,
		};
	},
	props: {
		Item: Object,
	},
	components: {
		itemSvg,
	},
	methods: {
		itemID(id) {
			console.log(id);
			this.isSelected = !this.isSelected;
		},
		...mapActions(["selectItem"]),
	},
	computed: mapGetters(["selectedItems"]),
};
</script>

<style scoped>
table {
	width: 100%;
	border-collapse: collapse;
}

.border-right {
	border-right: 1px solid black;
}

td {
	text-align: center;
}

.item-cont {
	border: 1px solid black;
	width: 210px;
	margin: 5px auto;
	padding: 4%;
	background-color: hsl(0, 0%, 89%);
	box-shadow: 1px 2px 3px hsl(0, 0%, 30%);
}

.rule-grid {
	display: grid;
	grid-template-columns: 1fr 1fr 1fr;
	grid-template-rows: 1fr 1fr;
	justify-items: center;
	row-gap: 0.5rem;
	column-gap: 5%;
}

.rule-ico {
	width: 100%;
	height: auto;
	fill: grey;
}

.vsep {
	margin: 0.5rem auto;
}

.selectBtn {
	margin-top: 0.5rem;
}

.green {
	fill: #0f0;
}
.selected {
	border-color: #0f0;
}
</style>
